<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æŠ½é¸æ©Ÿèƒ½</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center; /* æ¨ªæ–¹å‘ã«ä¸­å¤®æƒãˆ */
            margin: 0;
            padding-top: 20px; /* ä¸Šéƒ¨ã«å°‘ã—ã‚¹ãƒšãƒ¼ã‚¹ã‚’è¿½åŠ  */
            background-image: url('https://github.com/depacho/chu-sen/blob/main/haikei.jpg?raw=true'); /* èƒŒæ™¯ç”»åƒã‚’æŒ‡å®š */
            background-size: cover; /* ç”»åƒã‚’å…¨ä½“ã«ã‚«ãƒãƒ¼ */
            background-position: center; /* èƒŒæ™¯ç”»åƒã®ä½ç½®ã‚’ä¸­å¤®ã«è¨­å®š */
            color: black; /* æ–‡å­—ã®è‰²ã‚’é»’ã«è¨­å®š */
        }
        #result {
            margin-top: 20px;
            font-size: 20px;
            font-weight: bold;
            text-align: center; /* ä¸­å¤®ã«ãƒ†ã‚­ã‚¹ãƒˆã‚’è¡¨ç¤º */
            width: 50%; /* å¹…ã‚’ç”»é¢ã®50%ã«è¨­å®š */
            word-wrap: break-word; /* é•·æ–‡ã‚’æŠ˜ã‚Šè¿”ã™ */
        }
        #remainingChoices {
            margin-top: 10px; /* æ®‹ã‚Šã®é¸æŠè‚¢ã®è¡¨ç¤ºéƒ¨åˆ†ã®ãƒãƒ¼ã‚¸ãƒ³ */
            font-size: 16px; /* æ®‹ã‚Šã®é¸æŠè‚¢ã®ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚º */
        }
        .selected {
            font-size: 24px; /* å¤§ãã•ã‚’å¤‰æ›´ */
            color: red; /* è‰²ã‚’èµ¤ã«å¤‰æ›´ */
        }
        #inputArea {
            display: none; /* åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º */
            margin: 20px 0;
        }
        textarea {
            width: 300px;
            height: 150px;
        }
        button {
            margin-top: 10px;
            padding: 10px 20px;
            font-size: 16px;
        }
        .toggle-btn {
            background-color: gray; /* ãƒœã‚¿ãƒ³ã®èƒŒæ™¯è‰²ã‚’ç°è‰²ã« */
            color: white; /* ãƒ†ã‚­ã‚¹ãƒˆã®è‰²ã‚’ç™½ã« */
            border: none; /* æ ç·šã‚’ãªã—ã« */
            cursor: pointer; /* ãƒã‚¤ãƒ³ã‚¿ã«å¤‰æ›´ */
            padding: 5px 10px; /* å°ã•ã‚ã®ãƒœã‚¿ãƒ³ã‚µã‚¤ã‚º */
            font-size: 14px; /* ãƒ•ã‚©ãƒ³ãƒˆã‚µã‚¤ã‚ºã‚’å°ã•ã */
        }
        .toggle-btn:hover {
            background-color: A9A9A9_1ï¿¼; /* ãƒ›ãƒãƒ¼æ™‚ã®è‰² */
        }
        #drawButton {
            background-color: yellow; /* æŠ½é¸ãƒœã‚¿ãƒ³ã®èƒŒæ™¯è‰²ã‚’é»„è‰²ã« */
            border: none; /* æ ç·šã‚’ãªã—ã« */
        }
        #drawButton:hover {
            background-color: FFD700_1ï¿¼; /* ãƒ›ãƒãƒ¼æ™‚ã®è‰² */
        }
    </style>
</head>
<body>
    <h1 style="text-align: center;">ğŸ½ã‚¬ãƒ‹ã¶ï½ã‚³ãƒ©ãƒœğŸ½<br>ãƒ©ãƒ³ãƒ€ãƒ ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ãƒãƒ£ãƒ¬ãƒ³ã‚¸</h1>

    <button id="drawButton" onclick="draw()">æŠ½é¸ã™ã‚‹</button>

    <div id="result"></div>
    <div id="remainingChoices"></div>

    <button class="toggle-btn" onclick="toggleInputArea()">é¸æŠè‚¢ã‚’è¡¨ç¤º/éè¡¨ç¤º</button>

    <div id="inputArea">
        <textarea id="inputText" placeholder="é¸æŠé …ç›®ã‚’æ”¹è¡Œã§å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
    </div>

    <script>
        let items = [];
        let drawnItems = [];

        function toggleInputArea() {
            const inputArea = document.getElementById('inputArea');
            inputArea.style.display = inputArea.style.display === 'none' ? 'block' : 'none';
        }

        function draw() {
            const inputText = document.getElementById('inputText').value;
            items = inputText.split('\n').map(item => item.trim()).filter(item => item !== '');

            const resultDiv = document.getElementById('result');
            const remainingChoicesDiv = document.getElementById('remainingChoices');

            // é¸æŠè‚¢ãŒãªã„å ´åˆ
            if (items.length === 0) {
                resultDiv.innerHTML = 'é¸æŠé …ç›®ãŒã‚ã‚Šã¾ã›ã‚“ã€‚';
                remainingChoicesDiv.innerHTML = ''; // æ®‹ã‚Šé¸æŠè‚¢ã¯ç©ºã«ã™ã‚‹
                return;
            }

            // é‡è¤‡ã‚’è¨±å¯ã—ãªã„å ´åˆ
            if (drawnItems.length >= items.length) {
                resultDiv.innerHTML = 'ãŠã¤ã‹ã‚Œã•ã¾ã§ã—ãŸï¼';
                remainingChoicesDiv.innerHTML = ''; // æ®‹ã‚Šé¸æŠè‚¢ã¯ç©ºã«ã™ã‚‹
                return;
            }

            let randomIndex;
            let result;

            // é‡è¤‡ã—ãªã„é …ç›®ã‹ã‚‰ãƒ©ãƒ³ãƒ€ãƒ ã«é¸ã¶
            do {
                randomIndex = Math.floor(Math.random() * items.length);
                result = items[randomIndex];
            } while (drawnItems.includes(result));

            drawnItems.push(result);

            // æ®‹ã‚Šã®é¸æŠè‚¢ã®è¡¨ç¤º
            const remainingCount = items.length - drawnItems.length;
            resultDiv.innerHTML = `æ¬¡ã®ãƒãƒ£ãƒ¬ãƒ³ã‚¸: <br><span class="selected">${result}</span>`;
            remainingChoicesDiv.innerHTML = `æ®‹ã‚Š:${remainingCount}å€‹`;
        }
    </script>
</body>
</html>
